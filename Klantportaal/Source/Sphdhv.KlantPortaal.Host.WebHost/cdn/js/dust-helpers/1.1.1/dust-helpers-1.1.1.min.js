(function(dust){function isSelect(e){var t=e.current();return typeof t==="object"&&t.isSelect===true}function jsonFilter(e,t){if(typeof t==="function"){return t.toString()}return t}function filter(e,t,n,r,i){r=r||{};var s=n.block,o,u,a=r.filterOpType||"";if(typeof r.key!=="undefined"){o=dust.helpers.tap(r.key,e,t)}else if(isSelect(t)){o=t.current().selectKey;if(t.current().isResolved){i=function(){return false}}}else{_console.log("No key specified for filter in:"+a+" helper ");return e}u=dust.helpers.tap(r.value,e,t);if(i(coerce(u,r.type,t),coerce(o,r.type,t))){if(isSelect(t)){t.current().isResolved=true}if(s){return e.render(s,t)}else{_console.log("Missing body block in the "+a+" helper ");return e}}else if(n["else"]){return e.render(n["else"],t)}return e}function coerce(e,t,n){if(e){switch(t||typeof e){case"number":return+e;case"string":return String(e);case"boolean":{e=e==="false"?false:e;return Boolean(e)};case"date":return new Date(e);case"context":return n.get(e)}}return e}var _console=typeof console!=="undefined"?console:{log:function(){}};var helpers={tap:function(e,t,n){var r=e;if(typeof e==="function"){if(e.isFunction===true){r=e()}else{r="";t.tap(function(e){r+=e;return""}).render(e,n).untap();if(r===""){r=false}}}return r},sep:function(e,t,n){var r=n.block;if(t.stack.index===t.stack.of-1){return e}if(r){return n.block(e,t)}else{return e}},idx:function(e,t,n){var r=n.block;if(r){return n.block(e,t.push(t.stack.index))}else{return e}},contextDump:function(e,t,n,r){var i=r||{},s=i.to||"output",o=i.key||"current",u;s=dust.helpers.tap(s,e,t),o=dust.helpers.tap(o,e,t);if(o==="full"){u=JSON.stringify(t.stack,jsonFilter,2)}else{u=JSON.stringify(t.stack.head,jsonFilter,2)}if(s==="console"){_console.log(u);return e}else{return e.write(u)}},"if":function(chunk,context,bodies,params){var body=bodies.block,skip=bodies["else"];if(params&&params.cond){var cond=params.cond;cond=dust.helpers.tap(cond,chunk,context);if(eval(cond)){if(body){return chunk.render(bodies.block,context)}else{_console.log("Missing body block in the if helper!");return chunk}}if(skip){return chunk.render(bodies["else"],context)}}else{_console.log("No condition given in the if helper!")}return chunk},math:function(e,t,n,r){if(r&&typeof r.key!=="undefined"&&r.method){var i=r.key,s=r.method,o=r.operand,u=r.round,a=null,f=function(){_console.log("operand is required for this math method");return null};i=dust.helpers.tap(i,e,t);o=dust.helpers.tap(o,e,t);switch(s){case"mod":if(o===0||o===-0){_console.log("operand for divide operation is 0/-0: expect Nan!")}a=parseFloat(i)%parseFloat(o);break;case"add":a=parseFloat(i)+parseFloat(o);break;case"subtract":a=parseFloat(i)-parseFloat(o);break;case"multiply":a=parseFloat(i)*parseFloat(o);break;case"divide":if(o===0||o===-0){_console.log("operand for divide operation is 0/-0: expect Nan/Infinity!")}a=parseFloat(i)/parseFloat(o);break;case"ceil":a=Math.ceil(parseFloat(i));break;case"floor":a=Math.floor(parseFloat(i));break;case"round":a=Math.round(parseFloat(i));break;case"abs":a=Math.abs(parseFloat(i));break;default:_console.log("method passed is not supported")}if(a!==null){if(u){a=Math.round(a)}if(n&&n.block){return e.render(n.block,t.push({isSelect:true,isResolved:false,selectKey:a}))}else{return e.write(a)}}else{return e}}else{_console.log("Key is a required parameter for math helper along with method/operand!")}return e},select:function(e,t,n,r){var i=n.block;if(r&&typeof r.key!=="undefined"){var s=dust.helpers.tap(r.key,e,t);if(i){return e.render(n.block,t.push({isSelect:true,isResolved:false,selectKey:s}))}else{_console.log("Missing body block in the select helper ");return e}}else{_console.log("No key given in the select helper!")}return e},eq:function(e,t,n,r){if(r){r.filterOpType="eq"}return filter(e,t,n,r,function(e,t){return t===e})},ne:function(e,t,n,r){if(r){r.filterOpType="ne";return filter(e,t,n,r,function(e,t){return t!==e})}return e},lt:function(e,t,n,r){if(r){r.filterOpType="lt";return filter(e,t,n,r,function(e,t){return t<e})}},lte:function(e,t,n,r){if(r){r.filterOpType="lte";return filter(e,t,n,r,function(e,t){return t<=e})}return e},gt:function(e,t,n,r){if(r){r.filterOpType="gt";return filter(e,t,n,r,function(e,t){return t>e})}return e},gte:function(e,t,n,r){if(r){r.filterOpType="gte";return filter(e,t,n,r,function(e,t){return t>=e})}return e},"default":function(e,t,n,r){if(r){r.filterOpType="default"}return filter(e,t,n,r,function(e,t){return true})},size:function(e,t,n,r){var i,s=0,o,u;r=r||{};i=r.key;if(!i||i===true){s=0}else if(dust.isArray(i)){s=i.length}else if(!isNaN(parseFloat(i))&&isFinite(i)){s=i}else if(typeof i==="object"){o=0;for(u in i){if(Object.hasOwnProperty.call(i,u)){o++}}s=o}else{s=(i+"").length}return e.write(s)}};dust.helpers=helpers})(typeof exports!=="undefined"?module.exports=require("dustjs-linkedin"):dust)